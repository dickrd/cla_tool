#!/usr/bin/env python
# coding=utf-8
import argparse
import drest


def pipline():
    api = drest.API("http://127.0.0.1:666")
    response = api.make_request("GET", "/data")

    if response.status != 200:
        raise IOError("request failed.")

    print response.data

parser = argparse.ArgumentParser(description='chinese language tools command line.')
parser.add_argument("method", help="tool to use, including server, extract and model")
parser.add_argument("-i", "--input-file", help="input file to use")
parser.add_argument("-t", "--input-type", default="qq", help="source type of the input, supported types are qq, wechat")
args = parser.parse_args()

if args.method == "server":
    print "Start server."
elif args.method == "extract":
    print args.input_file
